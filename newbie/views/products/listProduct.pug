extends ../layouts/common

block content
    h1 Product list
    .d-flex.align-items-center
        form.ml-auto(action = '/products/search', method ='GET', class="d-flex")
            input(type="text", name="q", class= "form-control mr-2")
            Button(class= "btn btn-primary") Search
    .row
        each product in products
            
            .col-sm-3
                .card.mb-3
                    img.card-img-top(src= product.image, alt='Card image cap')
                    .card-body
                        h5.card-title= product.name
                        p.card-text= product.description
                        a.btn.btn-primary(href='/carts/add/'+product.id) Add to card 
    nav(aria-label='...')
        ul.pagination
            if(pos==0)
                li.page-item.disabled
                    a.page-link(href='#', tabindex='-1') Previous
                li.page-item.active
                    a.page-link(href='/products?page='+page)= page
                li.page-item
                    a.page-link(href='/products?page='+(page+1))= page+1
                        span.sr-only (current)
                li.page-item
                    a.page-link(href='/products?page='+(page+2))= (page+2)
                li.page-item
                    a.page-link(href='/products?page='+(page+1)) Next
            if(pos==1)
                li.page-item
                    a.page-link(href='/products?page='+(page-1), tabindex='-1') Previous
                li.page-item
                    a.page-link(href='/products?page='+(page-1))= page-1
                li.page-item.active
                    a.page-link(href='/products?page='+(page))= page
                        span.sr-only (current)
                li.page-item
                    a.page-link(href='/products?page='+(page+1))= page+1
                li.page-item
                    a.page-link(href='/products?page='+(page+1)) Next
            if(pos ==2)
                li.page-item
                    a.page-link(href='/products?page='+(page-1), tabindex='-1') Previous
                li.page-item
                    a.page-link(href='/products?page='+(page-2))= page-2
                li.page-item
                    a.page-link(href='/products?page='+(page-1))= page-1
                        span.sr-only (current)
                li.page-item.active
                    a.page-link(href='/products?page='+page)= page
                li.page-item.disabled
                    a.page-link(href='/products?page='+(page+1)) Next